% THIS IS SIGPROC-SP.TEX - VERSION 3.1
% WORKS WITH V3.2SP OF ACM_PROC_ARTICLE-SP.CLS
% APRIL 2009
%
% It is an example file showing how to use the 'acm_proc_article-sp.cls' V3.2SP
% LaTeX2e document class file for Conference Proceedings submissions.
% ----------------------------------------------------------------------------------------------------------------
% This .tex file (and associated .cls V3.2SP) *DOES NOT* produce:
%       1) The Permission Statement
%       2) The Conference (location) Info information
%       3) The Copyright Line with ACM data
%       4) Page numbering
% ---------------------------------------------------------------------------------------------------------------
% It is an example which *does* use the .bib file (from which the .bbl file
% is produced).
% REMEMBER HOWEVER: After having produced the .bbl file,
% and prior to final submission,
% you need to 'insert'  your .bbl file into your source .tex file so as to provide
% ONE 'self-contained' source file.
%
% Questions regarding SIGS should be sent to
% Adrienne Griscti ---> griscti@acm.org
%
% Questions/suggestions regarding the guidelines, .tex and .cls files, etc. to
% Gerald Murray ---> murray@hq.acm.org
%
% For tracking purposes - this is V3.1SP - APRIL 2009

\documentclass{acm_proc_article-sp}
\usepackage{url}

%
\def\sharedaffiliation{%
\end{tabular}
\begin{tabular}{c}}
%

\begin{document}


\title{UMD Event Finder, A Context-Aware Event Finder Application on Mobile Platform\titlenote{This effort is part of the CMSC818G, Information-Centric Design of Context-Aware Systems, class project.}}
%
% You need the command \numberofauthors to handle the 'placement
% and alignment' of the authors beneath the title.
%
% For aesthetic reasons, we recommend 'three authors at a time'
% i.e. three 'name/affiliation blocks' be placed beneath the title.
%
% NOTE: You are NOT restricted in how many 'rows' of
% "name/affiliations" may appear. We just ask that you restrict
% the number of 'columns' to three.
%
% Because of the available 'opening page real-estate'
% we ask you to refrain from putting more than six authors
% (two rows with three columns) beneath the article title.
% More than six makes the first-page appear very cluttered indeed.
%
% Use the \alignauthor commands to handle the names
% and affiliations for an 'aesthetic maximum' of six authors.
% Add names, affiliations, addresses for
% the seventh etc. author(s) as the argument for the
% \additionalauthors command.
% These 'additional authors' will be output/set for you
% without further effort on your part as the last section in
% the body of your article BEFORE References or any Appendices.

\numberofauthors{3} %  in this sample file, there are a *total*
% of EIGHT authors. SIX appear on the 'first-page' (for formatting
% reasons) and the remaining two appear in the \additionalauthors section.
%
\author{
% You can go ahead and credit any number of authors here,
% e.g. one 'row of three' or two rows (consisting of one row of three
% and a second row of one, two or three).
%
% The command \alignauthor (no curly braces needed) should
% precede each author name, affiliation/snail-mail address and
% e-mail address. Additionally, tag each line of
% affiliation/address with \affaddr, and tag the
% e-mail address with \email.
%
% 1st. author
\alignauthor Samet Ayhan\\
       \affaddr{University of Maryland, Dept. of Computer Science}\\
       \affaddr{College Park, Maryland 20740}\\
       \email{sayhan@cs.umd.edu}
% 2nd. author
\alignauthor Snigdha Chaturvedi\\
       \affaddr{University of Maryland, Dept. of Computer Science}\\
       \affaddr{College Park, Maryland 20740}\\
       \email{snigdhac@cs.umd.edu}
% 3rd. author
\alignauthor Adil Yalcin\\
       \affaddr{University of Maryland, Dept. of Computer Science}\\
       \affaddr{College Park, Maryland 20740}\\
       \email{adil.yalcin@gmail.com}
}
% There's nothing stopping you putting the seventh, eighth, etc.
% author on the opening page (as the 'third row') but we ask,
% for aesthetic reasons that you place these 'additional authors'
% in the \additional authors block, viz.

\date{9 May 2013}
% Just remember to make sure that the TOTAL number of authors
% is the number that will appear on the first page PLUS the
% number that will appear in the \additionalauthors section.


\maketitle
\begin{abstract}
Context-aware event finding system is expected to make use of not only user preferences but also information surrounding the specific contextual situation that is relevant. For instance, a user in search of an event within a certain distance should be presented with a set by taking her current location into account. In fact, not only her current location, but also the distance specified, her preferences, and any other factors that help define the relevant context. This contextual information gathering ought to occur pervasively in an ever changing environment where the process is encapsulated from the user.

In this paper, we describe a novel mobile application that presents events on University of Maryland (UMD) College Park Campus to the user based on contextual information in addition to choices the user made in the past. The obvious challenge with this approach is determining and making use of the relevant contextual information per use-case. Experimental results appear to support that our application is able to efficiently and effectively present relevant events to the user on agnostic mobile platforms.
\end{abstract}

% A category with the (minimum) three required fields
\category{H.m}{Information Systems}[Miscellaneous], {H.3.4}{Information Storage and Retrieval}[Systems and Software—Distributed systems], {H.3.5}{Information Storage and Retrieval}[Online Information Services—Web-based services]

\terms{Design, Human Factors}

\section{Introduction}
According to the International Telecommunication Union (ITU), the number of cell phone subscribers has reached six billion in 2011, and mobile broadband subscriptions have exceeded one billion globally \cite{itu:cellphone}. Recent mobile phones provide users with a number of features such as Wi-Fi connectivity, bluetooth and GPS localization, camera and video capture devices and, additionally, the capacity for users to program the mobile devices with more applications. Among the most popular applications there are location-based services (LBSs), in which knowledge of the end user’s location is used to deliver relevant, timely, and engaging content and information \cite{rao:lbs}. As it is clear that location is not the only information defining the context. Time and any other information pertaining to the situation is considered part of contextual information. 

Most web applications today expose themselves with static interfaces in a segregated manner, where search options are presented to the user requiring her to make selections over and over again per session, without taking advantage of surrounding contextual information. Whereas ubiquitous and pervasive computing teaches better integration, systems to make use of contextual information. This way, users are presented with more accurate and timely information without requiring them to provide information that sensors already provide.

With these facts in mind, we have built a system that utilizes contextual information to serve for the purposes of event finding application on agnostic mobile platforms. Some of the key features are:
\begin{itemize}
\item Provided with Wi-Fi connectivity, any mobile device with a browser to invoke our service.
\item No matter what type of mobile device is used, all capabilities offered by the service as well as the look and feel to be identical. 
\item In addition to regular event search options, distance proximity and temporal queries are supported. 
\item Queries in previous sessions, presumably reflecting user's profile are stored for smarter recommendations. 
\end{itemize}

Furthermore, our application implements Model View Controller (MVC) architecture pattern, where the representation of information is segregated from the user's interaction with it. With this architecture approach, the model that consists of event data and the controlling business logic and the graphical user interface are all separated from each other so that loose coupling, better reusability and more scalable solution is attained.

Among other tools and technologies, our implementation made use of HTML5, JQuery, Python, MySQL, and Apache HTTP Server.

The rest of this paper is organized as follows: In Section 2, we present related work, in Section 3, we explain the architecture in addition to design and implementation of three main components, front-end, back-end, and the controlling business logic. In Section 4, we discuss some major use-cases, limitations and optimizations. The final section contains concluding remarks and future work.

\section{Related Work}
Plenty of research has been done in the area of context-aware computing in the past. Among these efforts, context-awareness has been mainly studied in the fields of ubiquitous, pervasive or mobile computing. Furthermore, a significant number of applications have been
successfully developed and deployed. 

Peddemors et al. introduce the PLIM framework which provides an infrastructure for the distribution and retrieval of location information of mobile devices using a publish/subscribe mechanism \cite{peddemors:lbs}.

Harter et al. describe a system that builds a dynamic model of the environment where location information for the objects are updated based on data received from sensors. Also, an event-based monitoring system is provided allowing applications to detect location changes \cite{harter:anatomy}. 

Indulska et al. present a context model for pervasive systems based on the CC/PP standard and points out some limitations of this standard  \cite{indulska:ccpp}.

In the Web service area, a number of work dealing with context has been done. The CB-SeC framework is an agent-based architecture that provides service selection based on a rating for Web services. The ratings are calculated using context of interest functions \cite{maamar:contextualisation}. 

Aura is an architectural framework that models user tasks as coalitions of abstract services. Aura migrates such tasks from one environment to another one when the user changes location. Also, tasks can be adjusted when the environment changes \cite{sousa:mobility}

In the information systems area, preferences are attracting noticeable attention due to fact that they are a means to support personalization within Web services, particularly within information services that often use DBMS as back-end. Preferences, also called soft constraints, are considered as wishes: The result of a query should be a perfect match, but a best possible match is also acceptable \cite{kießling:optimizing,agrawal:preferences,chomicki:intrinsic}.

Among the very first ones, with "The Insider" web application, students were able to keep up with happenings at the Arizona State University campus. Similar to our system, yet missing very key features, this system brought Mesa's Williams Campus together on PC as well as mobile devices \cite{valenzuela:insider,gellersen:multisensor}.

In the area of mobile computing, a number of papers discuss the effect of context on mobile usability, propose an expanded model of mobile application context, and conduct an empirical study to test a number of hypotheses concerning the use of software implementation technology and location context in mobile applications \cite{ryan:mobile}.

In their work, Alberto et al. analyse the prerequisites and enablers for context-aware mobile services. According to them,  the user perspective, the business perspective, as well as the required technological enablers need to be understood in order to make context-aware services a reality \cite{alberto:usercentric}.

With their research, Raptis et al. review mobile applications used in museum environments, focusing on the notion of context and its constituent dimensions \cite{raptis:museum}.

\section{Architecture}
In this section, we introduce the system architecture in detail. Although subsequent sections provide more detail regarding each component, here we will provide 10000 feet view.

Illustrated in Figure 1, UMD Event Finder Service utilizes a persistent storage, where events and other relevant information are stored. The data is periodically pulled from disparate data sources in various formats by invoking live feed consumption modules. The service is composed of a number of query modules such as geo-location, temporal, etc. The service makes use of these additional information by contacting corresponding sensors pervasively and incorporating the returned results in its query process. This process is completely encapsulated from the user. Upon search invocation from the end user, the service pulls all necessary pieces together and presents the results back to the user in an efficient and effective manner. The returned results can be viewed on any mobile platform or PC environment with the same look and feel.

\begin{figure*}
\centering
\epsfig{file=figure1.eps,height=3.7in,width=6.6in}
\caption{UMD Event Finder - Physical Architecture.}
\end{figure*}

\subsection{Front-end Module}	 
\label{frontEnd}
We explain front-end here...

\subsection{Back-end Module}
In this sub section, we elaborate the design and implementation of back-end module for the UMD Event Finder application. 

Defined as Model in the MVC architecture pattern, back-end module is responsible for building and managing the data storage. Using stored data, the application is able to respond to users when the request is made. 

\subsubsection{Database Design}
The back-end module contains a relational database, UMDEVENTS with two tables:
\begin{itemize}
\item EVENTS and
\item BUILDINGS 
\end{itemize}

Events are stored in EVENTS table and facilities on campus are stored in BUILDINGS table. The tables are connected using \texttt{facilityId}. Figure 2 illustrates the schema for the EVENTS table. 

\begin{figure}
\centering
\epsfig{file=figure2.eps,height=2.8in,width=3.3in}
\caption{UMD Event Finder - Schema for the EVENTS table.}
\end{figure}

\texttt{id} is the primary key and \texttt{facilId} is the foreign key in the EVENTS table. 

Figure 3 illustrates the schema for the BUILDINGS table. 

\begin{figure}
\centering
\epsfig{file=figure3.eps,height=1.2in,width=3.3in}
\caption{UMD Event Finder - Schema for the BUILDINGS table.}
\end{figure}

\texttt{facilityId} is the primary key for the BUILDINGS table. 

UMD Event Finder application uses MySQL for relational database. 

BUILDINGS table has been created and populated by transforming an Excel spreadsheet containing facilities data for the entire campus, provided by the Facilities Management. Spatial and non-spatial attributes for the facilities such as facility name, id, latitude, and longitude values are included in the original data.

EVENTS table has been designed and implemented by taking available live data sources into account. The following on campus live data feed were acquired:
\begin{itemize}
\item For Your Information (FYI) live data feed available at \cite{fyi:xmlfeed}.
\item Computer Science Talks live data feed available at \cite{cs:talks}.
\item Computer Science Web Calendar live data feed available at \cite{cs:webcal}.
\end{itemize}

The back-end module is basically composed of a number of a number CRON jobs that perform the following scheduled tasks:

\begin{itemize}
\item Provided the URLs, subscribe to the live events feeds 
\item Parse the incoming data based on schema and format (XML, JSON)
\item Check if the unique id per event exists in the database
\item Push the incoming data into database, if not
\item Repeat the above steps periodically
\end{itemize}

The largest events data source on campus, FYI is exposed through a live RSS feed in addition to a static web page. Per our request, the IT Department made the live data feed available in XML. Upon a new event entry by an authorized person, the FYI service accumulates all the events and publishes them periodically in XML form. The UMD Event Finder application back-end module subscribes to the feed on a daily basis, parses the incoming data using Document Object Model (DOM) and pushes it to the internal database. 

In addition to the live FYI feed, the back-end module subscribes to Computer Science departmental feeds. Unlike the FYI, these feeds are provided in JSON. Similar to the FYI subscription, the back-end module subscribes to these departmental feeds, parses the incoming data and pushes it to the internal database.

Events with duplicate identifiers are not allowed in the database. The current subscription frequency is 86400 seconds for all three live data feeds and this frequency is configurable. The current implementation language for the back-end module is Python. The module uses PyMySQL interface to make connection from subscriber to the MySQL database.

\subsubsection{Querying the Database}
This section describes the module for handling the queries from the database. 

This component is also implemented in Python and uses CGI to interact with the web server and PyMySQL to connect to the MySQL database. As described in Section \ref{frontEnd}, the user selects time, location and category choices using pre-specified options. These options are passed to this module in form of CGI parameters to a python script which parsers them and constructs appropriate MYSQL queries. 

One of the front end features allows searching for events happening within a specific radius of a building or user's current position. While building's or user's locations are specified in terms of latitudes and longitudes, a natural way to compute radius would be using Euclidean distances between geographical locations. For this purpose, the latitude-longitude information is converted to Cartesian coordinates before computing distances. Given  a points latitude, $\theta$ and longitude, $\phi$, the Cartesian coordinates ($x,y$) are computed as:\\
\begin{equation}
\vec{r}=\left(\begin{array}{c}x\\y\end{array}\right)
=
\left(\begin{array}{c}
R\cos\theta\cos\phi
\\
R\cos\theta\sin\phi
\end{array}\right)
\end{equation}
where $R\approx 6371 \mathrm{km}$ is the radius of the Earth. 

For simplicity, it was assumed that all points lie on the XY plane, ie, $z=0$ for all points. Thereafter, the distance between two points, $\vec{r_1},\vec{r_2}$ was calculated as:
\begin{equation}
d(\vec{r_1},\vec{r_2})=\sqrt{(x_2-x_1)^2+(y_2-y_1)^2}
\end{equation}

The rest of the queries are in form of SELECT commands returning rows (event details) from the EVENTS table. The retrieved rows are then returned to the front-end in form of json objects. 

This concludes the back-end module.

\subsection{Business Logic}
We explain business logic here...

\section{Use-Cases}
The primary use case of this service is to provide a context aware search of events happening on or around the UMD campus. The contextual information exploited in this system include time and user location. Specifically, the system automatically detects the current geographical location of the user and time and allows searching based on this information. Typical use cases of this system are:
\begin{enumerate}
\item{Consider a user who is present on campus, is free at the moment and is wondering if there is an event happening nearby which he/she can attend. Such a user can select the `now' and `near me' option and the system will display the appropriate events.}
\item{Another use case is of a user who is busy presently but is interested in attending an event in next couple of hours. Such a user can select the `in \_ hours' option and look for events of interests.}
\item{Suppose the above user knows that he/she would be constrained to a tentative location on campus after a few hours and wants to look for events that he/she can attend at that time and location. Such a search can be executed using the `in \_ hours' option and also selecting the tentative location.}
\item{The system can also be useful for users who are planning their week schedule and are interested in events happening between specific dates. }
\item{The system is also caters to users with more specific needs. For example, some more `sedentary' users might be interested in events happening in or around a specific building only. Such a search can be executed by specifying the name of the building of interest and the distance and selecting an appropriate time option. The system, in such a case displays only the events located near the specified building.}
\item{Another set of users might only be interested in certain categories of events such as academic and/or sports only. Such users can specify their interests using the event `type' option.}
\item{For users whose interests are not limited to specific events types but to certain other constraints that can be determined by the event description or titles, the system allows searching the title or description for user-specified word(s).}
\end{enumerate}

The above use cases are examples of situations when a user wants to look for events under certain constraints. However, regular visitors to the service would have nearly constant constraints. The system saves such users from specifying the same options multiple times by saving the user preferences. The next time a user visits the service website, the search criteria will be predetermined based on his/her saved preferences. The user will be free to modify and overwrite these preferences at his discretion.

 
\section{Conclusion and Future Work}
This paper introduced a novel system that presents UMD events on agnostic mobile platforms based on contextual information in addition to user preferences. Taking major contextual information into account such as location and time in an ever changing environments, our system retrieves relevant events and presents to the user in an efficient and effective way.

This very first version of our system delivers context-based services by contacting sensors pervasively and making use of every bit of relevant information for the events being sought. However, there is still room for improvement. Among others, authentication, persistent user profiles, integration with social media, and automated notifications using pub-sub pattern are all critical capabilities that may be developed.  

\section{Acknowledgments}
We would like to thank Brooke Supple for allowing us to connect with IT resources. We would also like to thank Skip Warnick and Brian Swartzfage​r for their help in providing us with access to the UMD FYI Events live feed. We thank all of the anonymous contributors. We would especially like to thank Dr. Agrawala for his advice and directions.

%
% The following two commands are all you need in the
% initial runs of your .tex file to
% produce the bibliography for the citations in your paper.
\bibliographystyle{abbrv}
\bibliography{sigproc}  % sigproc.bib is the name of the Bibliography in this case
% You must have a proper ".bib" file
%  and remember to run:
% latex bibtex latex latex
% to resolve all references
%
% ACM needs 'a single self-contained file'!
%
%APPENDICES are optional
%\balancecolumns
\balancecolumns
% That's all folks!
\end{document}
